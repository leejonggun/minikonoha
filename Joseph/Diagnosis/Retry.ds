// written by Joseph

import("dshell");
import("konoha.json");

const DCaseContext = Json;

String host = "";

boolean Retry(DCaseContext ctx) {
	boolean ret = true;
	host = ctx.getString("hostname");
	ping "${host}" -c 4 > /dev/null;
	ret = ($? == 0);
	return ret;
}

void main() {
	DCaseContext ctx = new DCaseContext();
	ctx.setString("hostname", SCRIPT_ARGV.get(1));
	System.p(Retry(ctx));
}

main();
